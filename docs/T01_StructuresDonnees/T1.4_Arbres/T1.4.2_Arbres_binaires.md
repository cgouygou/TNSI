# Arbres binaires

{{ initexo(0) }}

!!! abstract "Vocabulaire"
    === "Arbre binaire"
        Un arbre est **binaire** si chacun de ses nœuds possède **au plus deux fils**: un fils gauche et un fils droit.

        ![](../images/arbre_exemple_python.png){: .center width=320} 

        L'arbre est dit *complet* si tous les nœuds possèdent exactement deux fils (ce qui n'est pas le cas de l'arbre précédent, le nœus Y n'ayant qu'un fils gauche).

    === "Sous-arbres" 
        Les sous-arbres sont alors appelés sous-arbre gauche et  sous-arbre droit.

        ![](../images/arbre_exemple_python2.png){: .center width=320}

!!! example "{{ exercice() }}"
    === "Énoncé" 
        Dessiner un arbre binaire complet de hauteur 4.

    === "Correction" 
        {{ correction(False, 
        "
        "
        ) }}
## 1. Taille et hauteur d'un arbre binaire

!!! example "{{ exercice() }}"
    === "Énoncé" 
        1. Construire un arbre binaire de hauteur $h$ (par exemple $h=4$) possédant le moins de nœuds possibles.

            Quelle est sa taille $n$?
        2. Construire un arbre binaire de hauteur $h$ (par exemple $h=4$) possédant le plus de nœuds possibles.
        
            Quelle est sa taille $n$?

    === "Correction" 
        {{ correction(False, 
        "
        "
        ) }}


??? abstract "Encadrement de la taille d'un arbre"
    Pour un arbre binaire de taille $n$ et de hauteur $h$:
    
    $$h \leqslant n \leqslant 2^{h} - 1$$

!!! example "{{ exercice() }}"
    === "Énoncé" 
        1. Donner un encadrement de la taille d'un arbre de hauteur 6.
        2. Donner un encadrement de la **hauteur** d'un arbre de taille 24.
    === "Correction" 
        {{ correction(False, 
        "
        "
        ) }}

## 2. Parcours d'un arbre binaire

L'intérêt des arbres est de stocker de l'information - les *étiquettes* - de façon structurée. Il est donc important de savoir comment parcourir un arbre pour avoir accès à tous les nœuds et les *traiter*.


### 2.1 Parcours en largeur (BFS)

!!! gear "Parcours en largeur"
    Le parcours en largeur d'abord (ou BFS pour Breadth-First Search) consiste  à parcourir l'arbre niveau par niveau. Les nœuds de niveau 0 sont sont d'abord parcourus puis les nœuds de niveau 1 et ainsi de suite. Dans chaque niveau, les nœuds sont parcourus de la gauche vers la droite.
    
    ![](../images/arbre_exemple_python.png){: .center width=320} 

    Le parcours en largeur de l'arbre ci-dessus parcours les nœuds dans l'ordre T-Y-O-P-H-N.

!!! code "Algorithme de parcours en largeur"
    Le principe est d'utiliser **une file**:
    
    - on commence par enfiler la racine de l'arbre;
    - puis tant que la file n'est pas vide:
        - on défile un nœud;
        - on traite le nœud;
        - on enfile les fils du nœud (s'il en possède)

    
### 2.2 Parcours en profondeur (DFS)

!!! gear "Parcours en profondeur"
    Le parcours en profondeur d'abord( ou DFS pour Depth-First Search) consiste à poursuivre un chemin jusqu'à rencontrer une feuille, puis revenir au dernier nœud où l'on pouvait explorer un autre chemin, etc.
    Il se définit de manière récursive sur les sous-arbres de l'arbre.

    Il existe plusieurs parcours d'arbres en profondeur, selon que le traitement de la racine a lieu avant l'exploration des sous-arbres (parcours *préfixe*), entre celle du sous-arbre gauche et celle du sous-arbre droit (parcours *infixe*) ou après l'exploration des sous-arbres (parcours *postfixe/suffixe*).

!!! code "Algorithmes de parcours en profondeur"
    === "Parcours préfixe"
        En pseudo-code:
        ```
        fonction parcours(A: arbre):
            si A est non vide alors:
                traiter(A.racine)       # préfixe: traitement de la racine avant les appels récursifs
                parcours(A.fils_gauche)
                parcours(A.fils_droit)
        
        ```
        
        ![](../images/arbre_exemple_parcours.png){: .center width=320} 

        Sur cet arbre, le parcours préfixe donne : $\quad\times \quad - \quad x \quad1\quad+\quad y\quad3$

    === "Parcours infixe"
        En pseudo-code:
        ```
        fonction parcours(A: arbre):
            si A est non vide alors:
                parcours(A.fils_gauche)
                traiter(A.racine)       # infixe: traitement de la racine entre les appels récursifs
                parcours(A.fils_droit)

        ```

        ![](../images/arbre_exemple_parcours.png){: .center width=320} 

        Sur cet arbre, le parcours infixe donne : $\quad x\quad -\quad1 \quad \times \quad y \quad+\quad 3$

    === "Parcours postfixe"
        En pseudo-code:
        ```
        fonction parcours(A: arbre):
            si A est non vide alors:
                parcours(A.fils_gauche)
                parcours(A.fils_droit)
                traiter(A.racine)       # postfixe: traitement de la racine après les appels récursifs

        ```

        ![](../images/arbre_exemple_parcours.png){: .center width=320} 

        Sur cet arbre, le parcours postfixe donne : $\quad x\quad 1\quad-\quad y\quad3\quad+\quad\times$



## 3. Implémentation d'un arbre binaire

Python ne propose pas de façon native l’implémentation des arbres binaires.

Il est cependant très aisé de définir un arbre binaire en définissant des classes `Arbre`
et `Noeud`:

```python linenums='1'
class Noeud:
    def __init__(self, v, g = None, d = None):
        self.valeur = v
        self.gauche = g # type Noeud
        self.droit = d # type Noeud

class Arbre:
    def __init__(self, racine = None):
        self.racine = racine # type : Noeud

arbre = Arbre(Noeud("A"))
```

## 4. Exercices

!!! example "{{ exercice() }}"
    === "Énoncé" 
        Dessiner:

        1. les arbres binaires à 1 nœud;
        1. les arbres binaires à 2 nœuds;
        1. les arbres binaires à 3 nœuds;
        1. les arbres binaires à 4 nœuds;
        5. Sans les dessiner, dénombrer le nombre d'arbres binaires à 5 nœuds.
    === "Correction" 
        {{ correction(False, 
        "
        "
        ) }}
!!! example "{{ exercice() }}"
    === "Énoncé" 
        Effectuer sur l'arbre suivant:

        ![](../images/arbre_exemple_python.png){: .center width=320} 
        
        1. un parcours préfixe
        2. un parcours infixe
        3. un parcours postfixe

    === "Correction" 
        {{ correction(False, 
        "
        "
        ) }}

!!! example "{{ exercice() }}"
    === "Arbre 1"
        Sur l'arbre suivant:

        ![](../images/arbre_exo.png){: .center width=320} 

        1. Donner sa taille et sa hauteur.
        2. Donner l'ordre des nœuds visités dans un parcours en largeur.
        3. Donner l'ordre des nœuds visités dans un parcours préfixe, puis dans un parcours infixe et enfin dans un parcours postfixe.
    
    === "Arbre 2"
        Sur l'arbre suivant:

        ![](../images/arbre_exo2.png){: .center width=320} 

        1. Donner sa taille et sa hauteur.
        2. Donner l'ordre des nœuds visités dans un parcours en largeur.
        3. Donner l'ordre des nœuds visités dans un parcours préfixe, puis dans un parcours infixe et enfin dans un parcours postfixe.
    === "Correction" 
        {{ correction(False, 
        "
        "
        ) }}


!!! example "{{ exercice() }}"
    === "Énoncé" 
        À l'aide des classe `Arbre` et `Noeud`, créer une instance d' `Arbre` représentant l'arbre:

        ![](../images/arbre_exemple_python.png){: .center width=320} 

    === "Correction" 
        {{ correction(False, 
        "
        ```python linenums='1'
        arbre = Arbre(Noeud('T', Noeud('Y', Noeud('P'), None), Noeud('O', Noeud('H'), Noeud('N')))
        ```
        
        "
        ) }}

!!! example "{{ exercice() }}"
    === "Énoncé" 
        On définit un arbre par les instructions suivantes:
        ```python linenums='1'
        ng = Noeud(9)  
        nd = Noeud(4) 
        ng = Noeud(1, ng, nd) 
        nd = Noeud(12) 
        nd = Noeud(6, ng, nd) 
        ngd = Noeud(3) 
        ng = Noeud(10, d = ngd) 
        arbre = Arbre(Noeud(5, ng, nd))
        ```

        Représenter graphiquement cet arbre.
        
    === "Correction" 
        {{ correction(False, 
        "
        ![](../images/arbre_exo8.png){: .center width=320} 
        "
        ) }}