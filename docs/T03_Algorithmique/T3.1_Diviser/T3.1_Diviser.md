# T3.1 Diviser pour régner

!!! gear "Principe"
    La méthode **diviser pour régner** (en anglais *divide and conquer*) est une technique algorithmique de résolution d'un problème qui consiste à :

    1. décomposer le problème initial en (un ou) plusieurs sous-problèmes de taille
    **inférieure** et **indépendants**;
    2. résoudre chacun des sous-problèmes;
    3. combiner (éventuellement) les solutions des sous-problèmes pour obtenir la solution au problème initial.

    La plupart du temps la résolution des sous-problèmes se fait de façon **récursive**.


??? question "Une impression de «déjà-vu»?"
    Nous avons déjà utilisé cette technique. Par exemple:

    - en première en étudiant la recherche dichotomique dans une liste triée;
    - en terminale en étudiant les algorithmes sur les arbres binaires.

    Un autre exemple ? Dès le DS 0001:

    ```python linenums='1' title='Exponentiation rapide'
    def puissance(x:float, n:int) -> float :
        if n == 0 :
            return  1
        else :
            if n%2 == 0:
                return puissance(x*x, n//2)
            else :
                return  x * puissance(x**2, (n-1)//2)
    ```
    
Nous allons mettre en œuvre cette méthode sur 4 problèmes classiques...

## 1. Le tri fusion

!!! gear "Algorithme du tri fusion (*merge sort*)"
    === "Principe"
        L'algorithme du tri fusion consiste à:

        1. couper le tableau à trier en deux moitiés;
        2. trier indépendammment en place chaque moitié;
        3. fusionner (*to merge*) les deux moitiés triées.

    === "Illustration en vidéo"
        <p align="center">
        <iframe width="640" height="360" src="https://www.youtube.com/embed/dENca26N6V4" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </p>
        
    === "Illustration en notice"
        ![](../images/merge_sort_ikea.png){: .center} 

    === "Illustration en GIF"
        
        <gif-player src="https://cgouygou.github.io/TNSI/T03_Algorithmique/images/gif_fusion.gif" speed="1" play></gif-player>

        *Source: Gilles Lassus*

!!! code "Partie I: la fusion / *merge*"
    On veut pouvoir fusionner deux listes triées. Pour cela on construit une nouvelle liste, dans laquelle on ajoute successivement le minimum des plus petits éléments des deux listes. Il faut donc gérer deux indices: un pour chaque liste, où l'indice correspond à l'élément à comparer.

    ```python linenums='1'
    def fusion(tab1:list, tab2:list) -> list:
        tab_fusion = []
        i1 = 0
        i2 = 0
        # Tant qu'il reste des éléments à comparer dans les deux listes
        while ...:
            if tab1[i1] < tab2[i2]:
                tab_fusion.append( ...)
                ...
            else:
                ...
                ...

        # Une fois qu'une des deux listes est totalement traitée, on complète avec ce 
        # qu'il reste dans l'autre
        if i1 == len(tab1):
            while ...:
                ...
                ...
        else:
            while ...:
                ...
                ...        

        return 

    ```

    Pouvez-vous estimer la complexité de cette fonction?
    

!!! code "Partie II: le tri / *sort*"
    Reprenons l'algorithme du tri fusion: il faut d'abord couper le tableau en deux moitiés. On va utiliser les deux fonctions ci-dessous dont la liste renvoyée est à compléter en compréhension:

    ```python linenums='1'
    def moitie_gauche(lst:list) -> list:
        m = len(lst) // 2
        return [lst[k] for k in range(...)]

    def moitie_droite(lst:list, m:int):
        m = len(lst) // 2
        return [lst[k] for k in range(...)]
    ```
    
    Maintenant écrivons la fonction `tri_fusion` à proprement parler, qui va fusionner les deux moitiés de la liste qui ont été triées par fusion:

    ```python linenums='1'
    def tri_fusion(lst:list) -> list:
        if len(lst) <= 1:
            return ...
        else:
            lst1 = ...
            lst2 = ...
            return fusion(..., ...)
    ```
    


## 2. Le tri rapide

!!! gear "Algorithme du tri fusion (*merge sort*)"
    === "Principe"
        L'algorithme du tri fusion consiste à:

        1. couper le tableau à trier en deux moitiés;
        2. trier indépendammment en place chaque moitié;
        3. fusionner (*to merge*) les deux moitiés triées.

    === "Illustration en vidéo"
        <p align="center">
        <iframe width="640" height="360" src="https://www.youtube.com/embed/3San3uKKHgg" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </p>

    === "Illustration en notice"
        ![](../images/quick_sort_ikea.png){: .center} 


## 3. Quart de tour d'une image

## 4. Génération d'un labyrinthe

